<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Relatórios de Projetos</title>
 </head>
<body>
<h1>Relatórios de Acompanhamento de Projetos</h1>

<div th:each="entry : ${porStatus}">
    <section style="margin-bottom:24px; padding:8px; border:1px solid #ccc;">
        <h2 th:text="${entry.key}"></h2>
        <div th:if="${#lists.isEmpty(entry.value)}">
            <p>Nenhum projeto neste status.</p>
        </div>
        <div th:if="${!#lists.isEmpty(entry.value)}">
            <table style="width:100%; border-collapse:collapse;" border="1">
                <thead>
                    <tr style="background:#f0f0f0;"><th>Nome do Projeto</th><th>Status</th><th>Gerente Responsável</th><th>Data Início</th><th>Data Fim Prevista</th></tr>
                </thead>
                <tbody>
                    <tr th:each="p : ${entry.value}">
                        <td th:text="${p.nome}"></td>
                        <td th:text="${p.status}"></td>
                        <td th:text="${p.gerenteResponsavel != null ? p.gerenteResponsavel.nome : ''}"></td>
                        <td th:text="${p.dataInicio}"></td>
                        <td th:text="${p.dataFimPrevista}"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
</div>
</body>
</html>
